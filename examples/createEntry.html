<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <link href="style.css" rel="stylesheet"/>
    <script src="../dist/entrystore.js"></script>
    <script src="init.js"></script>
</head>
<body>
  <script type="module">
    const message = init("Create an entry");
    const es = new ESJS.EntryStore(config.repository);
    await es.getAuth().login(config.username, config.password, 86400);
    try {
      const entry = await es.getContextById(config.contextId).newEntry().commit();
      message(`Created an entry with URI "${entry.getURI()}"!`);
    } catch(err) {
      message(`Failed to create an entry! ${err}`);
    }
  </script>
</body>
</html>
